CCS PCM C Compiler, Version 4.104, 5967               15-jul-24 12:07

               Filename: C:\Users\JOICE\OneDrive\Documentos\Faculdade\microcontrolador\Trabalho\testePWM\testePWM.lst

               ROM used: 91 words (1%)
                         Largest free fragment is 2048
               RAM used: 7 (2%) at main() level
                         8 (2%) worst case
               Stack:    1 locations

*
0000:  MOVLW  00
0001:  MOVWF  0A
0002:  GOTO   02F
0003:  NOP
.................... #include <16F877A.h> 
.................... //////// Standard Header file for the PIC16F877A device //////////////// 
.................... #device PIC16F877A 
.................... #list 
....................  
.................... #device adc=8 
....................  
.................... #FUSES NOWDT                    //No Watch Dog Timer 
.................... #FUSES HS                       //High speed Osc (> 4mhz for PCM/PCH) (>10mhz for PCD) 
.................... #FUSES NOPUT                    //No Power Up Timer 
.................... #FUSES NOPROTECT                //Code not protected from reading 
.................... #FUSES NODEBUG                  //No Debug mode for ICD 
.................... #FUSES NOBROWNOUT               //No brownout reset 
.................... #FUSES NOLVP                    //No low voltage prgming, B3(PIC16) or B5(PIC18) used for I/O 
.................... #FUSES NOCPD                    //No EE protection 
.................... #FUSES NOWRT                    //Program memory not write protected 
.................... #FUSES RESERVED                 //Used to set the reserved FUSE bits 
....................  
.................... #use delay(clock=6000000) 
*
001A:  MOVLW  22
001B:  MOVWF  04
001C:  BCF    03.7
001D:  MOVF   00,W
001E:  BTFSC  03.2
001F:  GOTO   02E
0020:  MOVLW  01
0021:  MOVWF  78
0022:  CLRF   77
0023:  DECFSZ 77,F
0024:  GOTO   023
0025:  DECFSZ 78,F
0026:  GOTO   022
0027:  MOVLW  F1
0028:  MOVWF  77
0029:  DECFSZ 77,F
002A:  GOTO   029
002B:  NOP
002C:  DECFSZ 00,F
002D:  GOTO   020
002E:  RETURN
....................  unsigned int i; 
.................... void setup_pwm() { 
....................      
....................     setup_timer_2(T2_DIV_BY_16, 255, 1);  
*
0004:  MOVLW  00
0005:  MOVWF  78
0006:  IORLW  06
0007:  MOVWF  12
0008:  MOVLW  FF
0009:  BSF    03.5
000A:  MOVWF  12
....................     setup_ccp1(CCP_PWM);  
000B:  BCF    03.5
000C:  BCF    21.2
000D:  MOVF   21,W
000E:  BSF    03.5
000F:  MOVWF  07
0010:  BCF    03.5
0011:  BCF    07.2
0012:  MOVLW  0C
0013:  MOVWF  17
.................... } 
0014:  BCF    0A.3
0015:  BCF    0A.4
0016:  GOTO   03E (RETURN)
....................  
.................... void set_cooler_speed(unsigned int8 speed) { 
....................      
....................     set_pwm1_duty(speed); 
0017:  MOVF   22,W
0018:  MOVWF  15
.................... } 
0019:  RETURN
....................  
.................... void main() { 
*
002F:  CLRF   04
0030:  BCF    03.7
0031:  MOVLW  1F
0032:  ANDWF  03,F
0033:  BSF    03.5
0034:  BSF    1F.0
0035:  BSF    1F.1
0036:  BSF    1F.2
0037:  BCF    1F.3
0038:  MOVLW  07
0039:  MOVWF  1C
....................     setup_pwm(); 
*
003D:  GOTO   004
....................      
....................      while(true) { 
....................       for(i=1; i<255; i++ ){ 
003E:  MOVLW  01
003F:  MOVWF  20
0040:  INCFSZ 20,W
0041:  GOTO   043
0042:  GOTO   04B
....................         set_cooler_speed(i);  
0043:  MOVF   20,W
0044:  MOVWF  22
0045:  CALL   017
....................         delay_ms(100);  
0046:  MOVLW  64
0047:  MOVWF  22
0048:  CALL   01A
....................       } 
0049:  INCF   20,F
004A:  GOTO   040
....................       for(i=255; i>2; i-- ){ 
004B:  MOVLW  FF
004C:  MOVWF  20
004D:  MOVF   20,W
004E:  SUBLW  02
004F:  BTFSC  03.0
0050:  GOTO   059
....................         set_cooler_speed(i);  
0051:  MOVF   20,W
0052:  MOVWF  22
0053:  CALL   017
....................         delay_ms(100);  
0054:  MOVLW  64
0055:  MOVWF  22
0056:  CALL   01A
....................       } 
0057:  DECF   20,F
0058:  GOTO   04D
....................      } 
0059:  GOTO   03E
.................... } 
....................  
005A:  SLEEP

Configuration Fuses:
   Word  1: 3F3A   HS NOWDT NOPUT NODEBUG NOPROTECT NOBROWNOUT NOLVP NOCPD NOWRT
